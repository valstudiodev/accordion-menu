{"version":3,"file":"main.d9a54788.js","sources":["../../src/js/inputMode.js","../../src/js/dropdown.js","../../src/js/script.js","../../src/main.js"],"sourcesContent":["\"use strict\"\r\n\r\n// ===========================================================================================\r\n// -----------------------------\r\n// ВИЗНАЧЕННЯ ТИПУ ВВОДУ (Input Mode)\r\n// -----------------------------\r\nexport function initInputMode() {\r\n   const html = document.documentElement;\r\n   let lockedByKeyboard = false;\r\n\r\n   // const set = (type) => {\r\n   //    if (html.dataset.input !== type) {\r\n   //       html.dataset.input = type;\r\n   //    }\r\n   // };\r\n\r\n   function setInputMode(type) {\r\n      html.dataset.input = type;\r\n   }\r\n\r\n   const isTouchInitial = window.matchMedia('(pointer: coarse)').matches;\r\n   setInputMode(isTouchInitial ? 'touch' : 'mouse');\r\n\r\n   window.addEventListener('keydown', (e) => {\r\n      if (e.key === 'Tab') {\r\n         lockedByKeyboard = true;\r\n         setInputMode('keyboard');\r\n      }\r\n   });\r\n\r\n   window.addEventListener('pointermove', (e) => {\r\n      if (e.pointerType === 'mouse' && !lockedByKeyboard) {\r\n         setInputMode('mouse');\r\n      }\r\n   }, { passive: true });\r\n\r\n   window.addEventListener('pointerdown', (e) => {\r\n      lockedByKeyboard = false;\r\n      setInputMode(e.pointerType);\r\n   });\r\n}\r\n","\"use strict\"\r\n\r\n// ===========================================================================================\r\n// -----------------------------\r\n// ЛОГІКА ВИПАДАЮЧИХ МЕНЮ (Dropdowns)\r\n// -----------------------------\r\nexport function initDropdowns() {\r\n   const html = document.documentElement;\r\n   const menuItems = document.querySelectorAll('.menu-dropdown__item--submenu');\r\n\r\n   const closeAllMenus = () => {\r\n      menuItems.forEach((item) => item.classList.remove('is-active'));\r\n   };\r\n\r\n   menuItems.forEach((item) => {\r\n      const link = item.querySelector('.menu-dropdown__link');\r\n\r\n      // 1. Обробка кліку (Touch)\r\n      item.addEventListener('click', (e) => {\r\n         if (html.dataset.input === 'touch' || html.dataset.input === 'pen') {\r\n            if (e.target.closest('.menu-dropdown__link')) {\r\n               e.preventDefault();\r\n               menuItems.forEach((el) => {\r\n                  if (el !== item) el.classList.remove('is-active');\r\n               });\r\n               item.classList.toggle('is-active');\r\n            }\r\n         }\r\n      });\r\n\r\n      // 2. ДОДАНО: Обробка фокусу (Tab)\r\n      // Коли посилання всередині item отримує фокус — показуємо меню\r\n      item.addEventListener('focusin', () => {\r\n         if (html.dataset.input === 'keyboard') {\r\n            item.classList.add('is-active');\r\n         }\r\n      });\r\n\r\n      // 3. Обробка виходу фокусу (Tab виходить за межі)\r\n      item.addEventListener('focusout', (e) => {\r\n         // Якщо новий елемент фокусу (relatedTarget) НЕ всередині поточного item — закриваємо\r\n         if (!item.contains(e.relatedTarget)) {\r\n            item.classList.remove('is-active');\r\n         }\r\n      });\r\n   });\r\n\r\n   // Закриття при кліку поза меню\r\n   document.addEventListener('click', (e) => {\r\n      if (!e.target.closest('.menu-dropdown__item--submenu')) {\r\n         closeAllMenus();\r\n      }\r\n   });\r\n\r\n   // Закриття при Escape\r\n   document.addEventListener('keydown', (e) => {\r\n      if (e.key === 'Escape') {\r\n         closeAllMenus();\r\n         if (html.dataset.input === 'keyboard') {\r\n            document.activeElement.blur();\r\n         }\r\n      }\r\n   });\r\n}\r\n","\"use strict\"\r\n\r\nimport { initInputMode } from './inputMode';\r\nimport { initDropdowns } from './dropdown';\r\n\r\n// ===========================================================================================\r\n// -----------------------------\r\n// ГОЛОВНИЙ ЗАПУСК\r\n// -----------------------------\r\nfunction initApp() {\r\n   initInputMode();\r\n   initDropdowns();\r\n}\r\n\r\nif (document.readyState === 'loading') {\r\n   document.addEventListener('DOMContentLoaded', initApp);\r\n} else {\r\n   initApp();\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// ===========================================================================================\r\n// -----------------------------\r\n// accordions\r\n// -----------------------------\r\nconst accordions = document.querySelectorAll('[data-accordion]');\r\nconst mq = window.matchMedia('(max-width: 581px)');\r\n\r\nfunction setupAccordions() {\r\n   accordions.forEach(item => {\r\n      const btn = item.querySelector('[data-accordion-btn]');\r\n      const body = item.querySelector('[data-accordion-body]');\r\n      if (!btn || !body) return;\r\n\r\n      if (!mq.matches) {\r\n         item.classList.remove('active');\r\n         body.style.height = '';\r\n         return;\r\n      }\r\n\r\n      body.style.height = item.classList.contains('active')\r\n         ? body.scrollHeight + 'px'\r\n         : '0px';\r\n\r\n      btn.onclick = () => {\r\n         const isOpen = item.classList.contains('active');\r\n\r\n         if (isOpen) {\r\n            body.style.height = body.scrollHeight + 'px';\r\n            requestAnimationFrame(() => body.style.height = '0px');\r\n            item.classList.remove('active');\r\n         } else {\r\n            item.classList.add('active');\r\n            body.style.height = body.scrollHeight + 'px';\r\n\r\n            body.addEventListener('transitionend', () => {\r\n               body.style.height = 'auto';\r\n            }, { once: true });\r\n         }\r\n      };\r\n   });\r\n}\r\n\r\nsetupAccordions();\r\nmq.addEventListener('change', setupAccordions);\r\n\r\n\r\n\r\n\r\n\r\n// ===========================================================================================\r\n// -----------------------------\r\n// MENU-BURGER\r\n// -----------------------------\r\nfunction documentActions(e) {\r\n   const targetElement = e.target\r\n   if (targetElement.closest('.icon-menu')) {\r\n      document.body.classList.toggle('menu-open')\r\n      document.body.classList.toggle('scroll-lock')\r\n      document.documentElement.classList.toggle('menu-open')\r\n   }\r\n}\r\n\r\n\r\n","import '@styles/style.scss'\nimport '@js/script';\n\n\nconsole.log('Main.js підключений');\n\n\n"],"names":["initInputMode","html","lockedByKeyboard","setInputMode","type","isTouchInitial","initDropdowns","menuItems","closeAllMenus","item","el","e","initApp","accordions","mq","setupAccordions","btn","body"],"mappings":"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"}
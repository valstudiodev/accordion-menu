{"version":3,"file":"main.bc407070.js","sources":["../../src/js/inputMode.js","../../src/js/dropdown.js","../../src/js/loader.js","../../src/js/script.js","../../src/main.js"],"sourcesContent":["\"use strict\"\r\n\r\n// ===========================================================================================\r\n// -----------------------------\r\n// ВИЗНАЧЕННЯ ТИПУ ВВОДУ (Input Mode)\r\n// -----------------------------\r\nexport function initInputMode() {\r\n   const html = document.documentElement;\r\n   let lockedByKeyboard = false;\r\n\r\n   // const set = (type) => {\r\n   //    if (html.dataset.input !== type) {\r\n   //       html.dataset.input = type;\r\n   //    }\r\n   // };\r\n\r\n   function setInputMode(type) {\r\n      html.dataset.input = type;\r\n   }\r\n\r\n   const isTouchInitial = window.matchMedia('(pointer: coarse)').matches;\r\n   setInputMode(isTouchInitial ? 'touch' : 'mouse');\r\n\r\n   window.addEventListener('keydown', (e) => {\r\n      if (e.key === 'Tab') {\r\n         lockedByKeyboard = true;\r\n         setInputMode('keyboard');\r\n      }\r\n   });\r\n\r\n   window.addEventListener('pointermove', (e) => {\r\n      if (e.pointerType === 'mouse' && !lockedByKeyboard) {\r\n         setInputMode('mouse');\r\n      }\r\n   }, { passive: true });\r\n\r\n   window.addEventListener('pointerdown', (e) => {\r\n      lockedByKeyboard = false;\r\n      setInputMode(e.pointerType);\r\n   });\r\n}\r\n","\"use strict\"\r\n\r\n// ===========================================================================================\r\n// -----------------------------\r\n// ЛОГІКА ВИПАДАЮЧИХ МЕНЮ (Dropdowns)\r\n// -----------------------------\r\nexport function initDropdowns() {\r\n   const html = document.documentElement;\r\n   const menuItems = document.querySelectorAll('.menu-dropdown__item--submenu');\r\n\r\n   const closeAllMenus = () => {\r\n      menuItems.forEach((item) => item.classList.remove('is-active'));\r\n   };\r\n\r\n   menuItems.forEach((item) => {\r\n      const link = item.querySelector('.menu-dropdown__link');\r\n\r\n      // 1. Обробка кліку (Touch)\r\n      item.addEventListener('click', (e) => {\r\n         if (html.dataset.input === 'touch' || html.dataset.input === 'pen') {\r\n            if (e.target.closest('.menu-dropdown__link')) {\r\n               e.preventDefault();\r\n               menuItems.forEach((el) => {\r\n                  if (el !== item) el.classList.remove('is-active');\r\n               });\r\n               item.classList.toggle('is-active');\r\n            }\r\n         }\r\n      });\r\n\r\n      // 2. ДОДАНО: Обробка фокусу (Tab)\r\n      // Коли посилання всередині item отримує фокус — показуємо меню\r\n      item.addEventListener('focusin', () => {\r\n         if (html.dataset.input === 'keyboard') {\r\n            item.classList.add('is-active');\r\n         }\r\n      });\r\n\r\n      // 3. Обробка виходу фокусу (Tab виходить за межі)\r\n      item.addEventListener('focusout', (e) => {\r\n         // Якщо новий елемент фокусу (relatedTarget) НЕ всередині поточного item — закриваємо\r\n         if (!item.contains(e.relatedTarget)) {\r\n            item.classList.remove('is-active');\r\n         }\r\n      });\r\n   });\r\n\r\n   // Закриття при кліку поза меню\r\n   document.addEventListener('click', (e) => {\r\n      if (!e.target.closest('.menu-dropdown__item--submenu')) {\r\n         closeAllMenus();\r\n      }\r\n   });\r\n\r\n   // Закриття при Escape\r\n   document.addEventListener('keydown', (e) => {\r\n      if (e.key === 'Escape') {\r\n         closeAllMenus();\r\n         if (html.dataset.input === 'keyboard') {\r\n            document.activeElement.blur();\r\n         }\r\n      }\r\n   });\r\n}\r\n\r\n\r\n\r\n","\"use strict\"\r\n\r\nexport function initLoadPage() {\r\n   initPageLoader()\r\n   initAnimationObserver()\r\n}\r\n\r\n/**\r\n * 1. Функція ініціалізації анімацій (Observer)\r\n */\r\nfunction initAnimationObserver() {\r\n   // Шукаємо всі елементи, клас яких містить \"--anim\"\r\n   const elements = document.querySelectorAll('[class*=\"--anim\"]');\r\n\r\n   const observerOptions = {\r\n      threshold: 0.15\r\n   };\r\n\r\n   const callback = (entries, observer) => {\r\n      entries.forEach(entry => {\r\n         if (entry.isIntersecting) {\r\n            const el = entry.target;\r\n            const children = el.querySelectorAll('.anim-child');\r\n            const delay = parseInt(el.dataset.delay) || 0;\r\n            const step = parseInt(el.dataset.step) || 150;\r\n\r\n            if (children.length > 0) {\r\n               children.forEach((child, index) => {\r\n                  setTimeout(() => {\r\n                     child.classList.add('animate');\r\n                  }, delay + (index * step));\r\n               });\r\n            } else {\r\n               setTimeout(() => {\r\n                  el.classList.add('animate');\r\n               }, delay);\r\n            }\r\n            observer.unobserve(el);\r\n         }\r\n      });\r\n   };\r\n\r\n   const observer = new IntersectionObserver(callback, observerOptions);\r\n   elements.forEach(el => observer.observe(el));\r\n}\r\n\r\n/**\r\n * 2. Функція завантаження сторінки (Loader)\r\n */\r\nfunction initPageLoader(delay = 600, barColor = '#ff4500') {\r\n   const loaderTarget = document.querySelector('[init-page-loader]');\r\n   if (!loaderTarget) return;\r\n\r\n   const progressBar = document.createElement('div');\r\n   progressBar.id = 'loader-progress-bar';\r\n\r\n   const barStyle = document.createElement('style');\r\n   barStyle.innerHTML = `\r\n        #loader-progress-bar {\r\n            position: fixed; top: 0; left: 0; height: 3px;\r\n            background-color: ${barColor}; z-index: 100000;\r\n            width: 0%; transition: width 0.4s ease, opacity 0.3s ease;\r\n            box-shadow: 0 0 10px ${barColor};\r\n        }\r\n    `;\r\n   document.head.appendChild(barStyle);\r\n   document.documentElement.appendChild(progressBar);\r\n\r\n   let progress = 0;\r\n   const interval = setInterval(() => {\r\n      progress += Math.random() * 25;\r\n      if (progress > 90) progress = 90;\r\n      progressBar.style.width = progress + '%';\r\n   }, 150);\r\n\r\n   const showPage = () => {\r\n      if (loaderTarget.getAttribute('init-page-loader') === 'ready') return;\r\n\r\n      clearInterval(interval);\r\n      progressBar.style.width = '100%';\r\n\r\n      setTimeout(() => {\r\n         // 1. Встановлюємо статус ready (для твоїх SCSS стилів)\r\n         loaderTarget.setAttribute('init-page-loader', 'ready');\r\n\r\n         // 2. ВАЖЛИВО: Запускаємо обсервер анімацій саме тут!\r\n         initAnimationObserver();\r\n\r\n         setTimeout(() => {\r\n            progressBar.style.opacity = '0';\r\n            setTimeout(() => progressBar.remove(), 400);\r\n         }, 300);\r\n      }, delay);\r\n   };\r\n\r\n   window.addEventListener('load', showPage);\r\n   setTimeout(showPage, 4000);\r\n}\r\n\r\n// Запуск\r\ninitPageLoader(600, '#ff4500');\r\n","\"use strict\"\r\n\r\nimport { initInputMode } from './inputMode';\r\nimport { initDropdowns } from './dropdown';\r\nimport { initLoadPage } from './loader';\r\n\r\n// ===========================================================================================\r\n// -----------------------------\r\n// ГОЛОВНИЙ ЗАПУСК\r\n// -----------------------------\r\nfunction initApp() {\r\n   initInputMode()\r\n   initDropdowns()\r\n   initLoadPage()\r\n}\r\n\r\nif (document.readyState === 'loading') {\r\n   document.addEventListener('DOMContentLoaded', initApp);\r\n} else {\r\n   initApp();\r\n}\r\n\r\n\r\n// ===========================================================================================\r\n// -----------------------------\r\n// accordions\r\n// -----------------------------\r\ndocument.addEventListener('click', (e) => {\r\n   const btn = e.target.closest('[data-accordion-btn]');\r\n   if (!btn) return;\r\n\r\n   const accordionParent = btn.closest('[data-accordion]');\r\n   if (!accordionParent) return;\r\n\r\n   const body = accordionParent.querySelector('[data-accordion-body]');\r\n   const icon = btn.querySelector('[data-accordion-icon]');\r\n   if (!body) return;\r\n\r\n   const isOpen = accordionParent.classList.contains('active');\r\n\r\n   if (!isOpen) {\r\n      accordionParent.classList.add('active');\r\n      if (icon) icon.classList.add('icon-active');\r\n\r\n      body.style.height = body.scrollHeight + 'px';\r\n\r\n      body.addEventListener(\r\n         'transitionend',\r\n         () => {\r\n            if (accordionParent.classList.contains('active')) {\r\n               body.style.height = 'auto';\r\n            }\r\n         },\r\n         { once: true }\r\n      );\r\n   } else {\r\n      body.style.height = body.scrollHeight + 'px';\r\n      body.offsetHeight;\r\n\r\n      requestAnimationFrame(() => {\r\n         accordionParent.classList.remove('active');\r\n         if (icon) icon.classList.remove('icon-active');\r\n         body.style.height = '0px';\r\n      });\r\n   }\r\n});\r\n\r\n\r\n\r\n\r\n\r\n// ===========================================================================================\r\n// -----------------------------\r\n// MENU-BURGER\r\n// -----------------------------\r\nfunction documentActions(e) {\r\n   const targetElement = e.target\r\n   if (targetElement.closest('.icon-menu')) {\r\n      document.body.classList.toggle('menu-open')\r\n      document.body.classList.toggle('scroll-lock')\r\n      document.documentElement.classList.toggle('menu-open')\r\n   }\r\n}\r\n\r\n\r\n","import '@styles/style.scss'\nimport '@js/script';\n\n\nconsole.log('Main.js підключений');\n\n\n"],"names":["initInputMode","html","lockedByKeyboard","setInputMode","type","isTouchInitial","initDropdowns","menuItems","closeAllMenus","item","el","e","initLoadPage","initPageLoader","initAnimationObserver","elements","observerOptions","callback","entries","observer","entry","children","delay","step","child","index","barColor","loaderTarget","progressBar","barStyle","progress","interval","showPage","initApp","btn","accordionParent","body","icon"],"mappings":"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"}